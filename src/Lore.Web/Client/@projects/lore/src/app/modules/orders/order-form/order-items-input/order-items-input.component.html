<div class="input-grid">
  <div class="row" *ngFor="let item of form.controls; let i = index">
    <ng-container [formGroup]="item">
      <mat-form-field appearance="fill">
        <mat-label>Product / Service</mat-label>
        <app-simple-selection
          source="products"
          formControlName="skuId"
          [viewValue]="'name'"
        ></app-simple-selection>
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-field--number">
        <mat-label>Quantity</mat-label>
        <input type="number" formControlName="quantity" matInput />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-field--number">
        <mat-label>Price</mat-label>
        <input type="number" matInput formControlName="price" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-field--number">
        <mat-label>Amount</mat-label>
        <input type="number" matInput formControlName="amount" />
      </mat-form-field>

      <button mat-icon-button class="form-action-button" (click)="remove(i)">
        <i class="mdi mdi-close"></i>
      </button>
    </ng-container>
  </div>
</div>

<div class="input-grid-footer row">
  <div class="row__section row__section--align-start mat-body-2">
    Total: {{ total | currency: 'RUB' }}
  </div>
  <div class="row__spacer"></div>
  <div class="row__section row__section--align-end">
    <button mat-flat-button (click)="insert()">Add</button>
  </div>
</div>
