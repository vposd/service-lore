<ng-container [formGroup]="form">
  <div class="form-control" *ngFor="let param of reportMetadata.params">
    <ng-container *ngIf="param.type === paramType.EntityRef">
      <mat-form-field appearance="fill">
        <mat-label>{{ param.label }}</mat-label>
        <app-simple-selection
          [formControlName]="param.name"
          [source]="param['source']"
          [multiple]="param['multiple']"
          [required]="true"
        ></app-simple-selection>
      </mat-form-field>
    </ng-container>

    <ng-container *ngIf="param.type === paramType.DatePeriod">
      <mat-form-field appearance="fill">
        <mat-label>{{ param.label }}</mat-label>
        <input
          [formControlName]="param.name"
          [required]="true"
          [satDatepicker]="picker"
          matInput
          placeholder="Выбор периода"
        />
        <sat-datepicker
          #picker
          [rangeMode]="true"
          [closeAfterSelection]="false"
        >
        </sat-datepicker>
        <sat-datepicker-toggle matSuffix [for]="picker"></sat-datepicker-toggle>
      </mat-form-field>
    </ng-container>
  </div>
</ng-container>
