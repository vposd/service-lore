@import '../utilites/mixins/bottom-line';
@import '../buttons/mixins';
@import 'variables';

@function textfield-transition($property) {
  @return #{$property} 180ms $animation-standard-curve-timing-function;
}

// For text inputs, textareas
@mixin textfield-base() {
  @include typography(regular-small);

  display: inline-block;
  position: relative;
  width: 100%;
  height: $textfield-height;
  padding: 0 $textfield-padding;
  transition: textfield-transition(all);
  border: $textfield-border-width solid $textfield-border-color;
  border-radius: $textfield-border-radius;
  outline: none;
  -webkit-appearance: none;
  will-change: opacity, transform, color;

  &::placeholder {
    transition: textfield-transition(color);
    opacity: 1;
    color: $textfield-placeholder-color;
  }

  &:focus {
    @include bottom-line($gray-600, 1px);

    outline: none;

    &::placeholder {
      color: $textfield-placeholder-active-color;
    }
  }

  &:disabled {
    border-color: $textfield-border-muted-color;
    background-color: $gray-100;
    color: $textfield-muted-color !important;
    cursor: default;

    &::placeholder {
      color: $textfield-muted-color !important;
    }
  }

  // Remove red outline on firefox
  &:invalid {
    box-shadow: none;
  }
}

// Icon in textfield
@mixin textfield-icon {
  @include icon-button();
  @include button-fill-color(transparent);
  @include button-disabled-text-only($textfield-icon-color);

  position: absolute;
  top: 0;
  width: $textfield-icon-size;
  padding: 0;
  transition: textfield-transition(all);
  color: $textfield-icon-color;
  font-size: $icon-size-sm;
  line-height: $textfield-height;
}
